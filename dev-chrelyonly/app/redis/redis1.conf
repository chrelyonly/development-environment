######################################
# 基础配置
######################################

# Redis 守护进程模式（由 Docker 控制，无需设为 yes）
daemonize no

# 默认监听端口（容器内）
port 6379

# 绑定所有 IP，允许外部访问（Docker 容器中建议设为 0.0.0.0）
bind 0.0.0.0

# 日志级别：可选 debug, verbose, notice, warning
loglevel notice

# 日志文件（Docker 通常使用标准输出）
logfile ""

######################################
# 持久化配置
######################################

# 开启 AOF（追加式日志），保证数据完整性更好
appendonly yes

# AOF 文件位置（挂载到 /data 后 Redis 会写在这）
dir /app/data1

# AOF 策略：always, everysec, no（推荐 everysec 性能与安全折中）
appendfsync everysec

# 支持的逻辑数据库数量
databases 32
######################################
# 内存限制（可选）
######################################

# 最大使用内存，比如限制为 100MB（根据需要可启用）
# maxmemory 100mb
# 超过 maxmemory 后的策略：volatile-lru, allkeys-lru, etc.
# maxmemory-policy allkeys-lru

######################################
# 访问控制（可选）
######################################

# 设置访问密码（取消注释启用）
requirepass redis-public1

######################################
# 网络配置（可选）
######################################

# 设置客户端连接超时（单位秒，0为永不超时）
timeout 0

# 设置最大客户端连接数（默认 10000）
maxclients 100000
